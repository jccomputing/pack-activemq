define command {
  command_name                   check_activemq_heap_used
  command_line                   $PLUGINSDIR$/check_jmx4perl $_HOSTACTIVEMQAUTH$ \
                                    --url http://$HOSTNAME$:$_HOSTACTIVEMQPORT$/$_HOSTACTIVEMQJOLOKIAPATH$ \
                                    --name heap_memory_used \
                                    --mbean java.lang:type=Memory \
                                    --attribute HeapMemoryUsage \
                                    --path used \
                                    --base-mbean java.lang:type=Memory \
                                    --base-attribute HeapMemoryUsage \
                                    --base-path max \
                                    --label "Heap-Memory: %.2r% used (%.2v %u / %.2b %w)" \
                                    --unit B \
                                    --warning $_HOSTACTIVEMQHEAPMEMORY_WARN$ \
                                    --critical $_HOSTACTIVEMQHEAPMEMORY_CRIT$
}

define command {
  command_name                   check_activemq_non_heap_used
  command_line                   $PLUGINSDIR$/check_jmx4perl $_HOSTACTIVEMQAUTH$ \
                                    --url http://$HOSTNAME$:$_HOSTACTIVEMQPORT$/$_HOSTACTIVEMQJOLOKIAPATH$ \
                                    --name non_heap_memory_used \
                                    --mbean java.lang:type=Memory \
                                    --attribute NonHeapMemoryUsage \
                                    --path used \
                                    --base-mbean java.lang:type=Memory \
                                    --base-attribute NonHeapMemoryUsage \
                                    --base-path max \
                                    --label "Non-Heap-Memory: %.2r% used (%.2v %u / %.2b %w)" \
                                    --unit B \
                                    --warning $_HOSTACTIVEMQNONHEAPMEMORY_WARN$ \
                                    --critical $_HOSTACTIVEMQNONHEAPMEMORY_CRIT$
}

define command {
  command_name                   check_activemq_enqueue_count
  command_line                   $PLUGINSDIR$/check_jmx4perl $_HOSTACTIVEMQAUTH$ \
                                    --url http://$HOSTNAME$:$_HOSTACTIVEMQPORT$/$_HOSTACTIVEMQJOLOKIAPATH$ \
                                    --name enqueue_count_$ARG1$ \
                                    --mbean org.apache.activemq:brokerName=$_HOSTACTIVEMQBROKERNAME$,destinationName=$ARG1$,destinationType=Queue,type=Broker \
                                    --attribute EnqueueCount \
                                    --label "Enqueue Count per Minute: %.2v" \
                                    --delta 60 \
                                    --warning $_HOSTACTIVEMQENQUEUECOUNT_WARN$ \
                                    --critical $_HOSTACTIVEMQENQUEUECOUNT_CRIT$
}

define command {
  command_name                   check_activemq_dequeue_count
  command_line                   $PLUGINSDIR$/check_jmx4perl $_HOSTACTIVEMQAUTH$ \
                                    --url http://$HOSTNAME$:$_HOSTACTIVEMQPORT$/$_HOSTACTIVEMQJOLOKIAPATH$ \
                                    --name dequeue_count_$ARG1$ \
                                    --mbean org.apache.activemq:brokerName=$_HOSTACTIVEMQBROKERNAME$,destinationName=$ARG1$,destinationType=Queue,type=Broker \
                                    --attribute DequeueCount \
                                    --label "Dequeue Count per Minute: %.2v" \
                                    --delta 60 \
                                    --warning $_HOSTACTIVEMQDEQUEUECOUNT_WARN$ \
                                    --critical $_HOSTACTIVEMQDEQUEUECOUNT_CRIT$
}

define command {
  command_name                   check_activemq_consumer_count
  command_line                   $PLUGINSDIR$/check_jmx4perl $_HOSTACTIVEMQAUTH$ \
                                    --url http://$HOSTNAME$:$_HOSTACTIVEMQPORT$/$_HOSTACTIVEMQJOLOKIAPATH$ \
                                    --name consumer_count_$ARG1$ \
                                    --mbean org.apache.activemq:brokerName=$_HOSTACTIVEMQBROKERNAME$,destinationName=$ARG1$,destinationType=Queue,type=Broker \
                                    --attribute ConsumerCount \
                                    --label "Consumer Count: %v" \
                                    --critical $_HOSTACTIVEMQCONSUMERCOUNT_CRIT$
}

define command {
  command_name                   check_activemq_queue_size
  command_line                   $PLUGINSDIR$/check_jmx4perl $_HOSTACTIVEMQAUTH$ \
                                    --url http://$HOSTNAME$:$_HOSTACTIVEMQPORT$/$_HOSTACTIVEMQJOLOKIAPATH$ \
                                    --name queue_size_$ARG1$ \
                                    --mbean org.apache.activemq:brokerName=$_HOSTACTIVEMQBROKERNAME$,destinationName=$ARG1$,destinationType=Queue,type=Broker \
                                    --attribute QueueSize \
                                    --label "Queue Size: %v" \
                                    --warning $_HOSTACTIVEMQQUEUESIZE_WARN$ \
                                    --critical $_HOSTACTIVEMQQUEUESIZE_CRIT$
}

